{"ast":null,"code":"// RXJS\nimport { Subject } from 'rxjs'; // JWT Decoding\n\nimport decode from 'jwt-decode';\nimport * as i0 from \"@angular/core\";\nexport let HelperService = /*#__PURE__*/(() => {\n  class HelperService {\n    constructor() {\n      this.isUserLogged = new Subject();\n      this.searchQuery = new Subject();\n      this.cartStatus = new Subject();\n    }\n\n    saveSession(token) {\n      localStorage.setItem('token', token);\n    }\n\n    clearSession() {\n      localStorage.clear();\n    }\n\n    getProfile() {\n      try {\n        const decoded = decode(this.getToken());\n        console.log(\"Decoded Sub\" + decoded['sub']);\n        return decoded['sub'];\n      } catch (err) {\n        return {};\n      }\n    }\n\n    isLoggedIn() {\n      try {\n        const decoded = decode(this.getToken());\n        console.log(\"Decoded exp\" + decoded['exp']);\n\n        if (decoded['exp'] > Date.now() / 1000) {\n          console.log(\"Decoded exp admin\" + decoded['exp']);\n          return true;\n        }\n\n        return false;\n      } catch (err) {\n        return false;\n      }\n    }\n\n    isAdmin() {\n      try {\n        const decoded = decode(this.getToken());\n        console.log(\"Decoded isAdmin\" + decoded['sub']['isAdmin']);\n\n        if (decoded['exp'] < Date.now() / 1000 || !decoded['sub']['isAdmin']) {\n          return false;\n        }\n\n        return true;\n      } catch (err) {\n        return false;\n      }\n    }\n\n    getToken() {\n      return localStorage.getItem('token');\n    }\n\n  }\n\n  HelperService.ɵfac = function HelperService_Factory(t) {\n    return new (t || HelperService)();\n  };\n\n  HelperService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: HelperService,\n    factory: HelperService.ɵfac,\n    providedIn: 'root'\n  });\n  return HelperService;\n})();","map":null,"metadata":{},"sourceType":"module"}